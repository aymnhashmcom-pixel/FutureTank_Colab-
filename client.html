<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>ğŸ” Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ â€“ FutureTank</title>

<style>
body{
  font-family:Tahoma;
  background:#f4f9ff;
  padding:20px;
}
h2{color:#0077b6;text-align:center}
input,button{
  width:100%;
  padding:10px;
  margin:6px 0;
  border-radius:6px;
  border:1px solid #ccc;
}
button{
  background:#0077b6;
  color:#fff;
  font-size:15px;
  cursor:pointer;
}
.card{
  background:#fff;
  padding:15px;
  border-radius:8px;
  margin-top:15px;
  box-shadow:0 2px 6px rgba(0,0,0,.1);
}
.label{color:#555;font-size:14px}
.value{font-weight:bold;margin-bottom:8px}
</style>
</head>

<body>

<h2>ğŸ” Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</h2>

<input id="loginValue" placeholder="Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ Ø£Ùˆ ÙƒÙˆØ¯ Ø§Ù„Ø¹Ù…ÙŠÙ„">
<button onclick="login()">Ø¯Ø®ÙˆÙ„</button>

<div id="result"></div>

<script>
function loadDB(){
  return JSON.parse(localStorage.getItem("ft_db") || "{}");
}

function login(){
  const val = loginValue.value.trim();
  if(!val){
    alert("Ù…Ù† ÙØ¶Ù„Ùƒ Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ Ø£Ùˆ Ø§Ù„ÙƒÙˆØ¯");
    return;
  }

  const db = loadDB();
  if(!db.clients || db.clients.length === 0){
    alert("Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù…Ù„Ø§Ø¡");
    return;
  }

  const client = db.clients.find(c =>
    c.phone === val || String(c.id) === val
  );

  if(!client){
    alert("âŒ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù…ÙŠÙ„");
    return;
  }

  document.getElementById("result").innerHTML = `
    <div class="card">
      <h3>ğŸ‘¤ ${client.name}</h3>

      <div class="label">ğŸ“ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</div>
      <div class="value">${client.phone}</div>

      <div class="label">ğŸ’° Ø§Ù„ØªÙƒÙ„ÙØ©</div>
      <div class="value">${client.cost} Ø¬Ù†ÙŠÙ‡</div>

      <div class="label">ğŸ“… Ù…Ø¯Ø© Ø§Ù„ØªØ¹Ø§Ù‚Ø¯</div>
      <div class="value">${client.start} â†’ ${client.end}</div>

      <div class="label">ğŸ›  Ø¢Ø®Ø± Ø²ÙŠØ§Ø±Ø©</div>
      <div class="value">${client.lastVisit}</div>

      <div class="label">ğŸ“ Ø§Ù„Ø²ÙŠØ§Ø±Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©</div>
      <div class="value">${client.nextVisit}</div>

      <button onclick="alert('Ø³ÙŠØªÙ… ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªØ¬Ø¯ÙŠØ¯ Ù‚Ø±ÙŠØ¨Ù‹Ø§')">
        ğŸ”„ ØªØ¬Ø¯ÙŠØ¯ Ø§Ù„ØªØ¹Ø§Ù‚Ø¯
      </button>
    </div>
  `;
}
</script>

</body>
</html>
