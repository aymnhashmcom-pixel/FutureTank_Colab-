<!doctype html>
<html lang="ar" dir="rtl">
<head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>ููุญุฉ ุงูุชุญูู โ FutureTank</title>
<link rel="stylesheet" href="styles.css">
</head>
<body>
<div class="container card">
  <h2>๐ ููุญุฉ ุงูุชุญูู (ูุญูู)</h2>
  <p>ูููุฉ ุงููุฑูุฑ: <strong>Future2025</strong></p>
  <label>ูููุฉ ุงููุฑูุฑ<input id="pw" type="password"></label>
  <button id="login">ุฏุฎูู</button>
  <div id="adminArea" style="display:none">
    <h3>ุจูุงูุงุช ุงูุดุฑูุฉ</h3>
    <label>ุงุณู ุงูุดุฑูุฉ<input id="companyName"></label>
    <label>ูุงุชู<input id="companyPhone"></label>
    <label>ุฑุณุงูุฉ ุงูุชุฑุญูุจ<textarea id="welcome"></textarea></label>
    <h3>ููุชุฌุงุช</h3>
    <div id="products"></div>
    <button id="addProd">ุฃุถู ููุชุฌ</button>
    <h3>ุฎุฏูุงุช</h3>
    <div id="services"></div>
    <button id="addSrv">ุฃุถู ุฎุฏูุฉ</button>
    <hr>
    <button id="save">ุญูุธ ุงูุชุนุฏููุงุช</button>
    <button id="clearDB">ูุณุญ ุฌููุน ุงูุจูุงูุงุช</button>
  </div>
</div>

<script>
function loadDB(){ return JSON.parse(localStorage.getItem('ft_db')||'{}'); }
function saveDB(db){ localStorage.setItem('ft_db', JSON.stringify(db)); }
document.getElementById('login').addEventListener('click', ()=>{
  if(document.getElementById('pw').value === 'Future2025'){
    document.getElementById('adminArea').style.display='block';
    const db = loadDB();
    document.getElementById('companyName').value = (db.company && db.company.name) || 'ูููุชุดุฑ ุชุงูู';
    document.getElementById('companyPhone').value = (db.company && db.company.phone) || '01150402031';
    document.getElementById('welcome').value = db.welcome || 'ุฃููุงู ุจูู ูู ูููุชุดุฑุชุงูู. ููุงุก ุงููุงุก ูู ูุฏููุง.';
    const prodDiv = document.getElementById('products'); prodDiv.innerHTML='';
    (db.products||[]).forEach((p,i)=>{ const row = document.createElement('div'); row.innerHTML = '<input class="pname" value="'+p.name+'"> <input class="pprice" value="'+p.price+'"> <button class="rm">โ</button>'; prodDiv.appendChild(row); row.querySelector('.rm').addEventListener('click', ()=>{ row.remove(); }); });
    const srvDiv = document.getElementById('services'); srvDiv.innerHTML=''; (db.services||[]).forEach(s=>{ const r=document.createElement('div'); r.innerHTML = '<input class="sname" value="'+s.name+'"> <button class="rm">โ</button>'; srvDiv.appendChild(r); r.querySelector('.rm').addEventListener('click', ()=> r.remove());});
  } else alert('ูููุฉ ุงููุฑูุฑ ุบูุฑ ุตุญูุญุฉ');
});
document.getElementById('addProd').addEventListener('click', ()=>{ const p=document.createElement('div'); p.innerHTML='<input class="pname" placeholder="ุงุณู ุงูููุชุฌ"> <input class="pprice" placeholder="ุงูุณุนุฑ"> <button class="rm">โ</button>'; document.getElementById('products').appendChild(p); p.querySelector('.rm').addEventListener('click', ()=>p.remove());});
document.getElementById('addSrv').addEventListener('click', ()=>{ const s=document.createElement('div'); s.innerHTML='<input class="sname" placeholder="ุงุณู ุงูุฎุฏูุฉ"> <button class="rm">โ</button>'; document.getElementById('services').appendChild(s); s.querySelector('.rm').addEventListener('click', ()=>s.remove());});
document.getElementById('save').addEventListener('click', ()=>{
  const db = {};
  db.company = { name: document.getElementById('companyName').value, phone: document.getElementById('companyPhone').value };
  db.welcome = document.getElementById('welcome').value;
  db.products = Array.from(document.querySelectorAll('.pname')).map((el,i)=>({ name: el.value, price: document.querySelectorAll('.pprice')[i] ? document.querySelectorAll('.pprice')[i].value : '' }));
  db.services = Array.from(document.querySelectorAll('.sname')).map(el=>({ name: el.value }));
  saveDB(db); alert('ุชู ุงูุญูุธ ูุญููุงู ูู ุงููุชุตูุญ (localStorage).');
});
document.getElementById('clearDB').addEventListener('click', ()=>{ if(confirm('ูุณุญ ุฌููุน ุจูุงูุงุช localStorageุ')){ localStorage.removeItem('ft_db'); alert('ุชู ุงููุณุญ'); }});
</script>
</body>
</html>
