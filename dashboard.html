<!DOCTYPE html><html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… FutureTank</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{font-family:Tahoma;background:#f4f9ff;margin:0;padding:20px}
h1{color:#1f3b5c}
.box{background:#fff;border-radius:14px;padding:20px;margin-bottom:20px;box-shadow:0 6px 20px rgba(0,0,0,.1)}
input,select,button{padding:10px;margin:6px 0;width:100%;font-size:14px}
button{background:#4a90e2;color:#fff;border:none;border-radius:8px;cursor:pointer}
table{width:100%;border-collapse:collapse;margin-top:10px}
th,td{border-bottom:1px solid #eee;padding:8px;text-align:center}
th{background:#f0f6ff}
.del{color:red;cursor:pointer}
.logout{background:#999}
</style>
</head>
<body>
<h1>ğŸ“‹ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ ÙˆØ§Ù„Ø¹Ù‚ÙˆØ¯ â€” FutureTank</h1>
<button class="logout" onclick="logout()">ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</button><div class="box">
<h3>â• Ø¥Ø¶Ø§ÙØ© Ø¹Ù‚Ø¯ Ø¬Ø¯ÙŠØ¯</h3>
<input id="client" placeholder="Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„ + Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ">
<select id="service">
  <option>ØªØ·Ù‡ÙŠØ± ÙˆØªØ¹Ù‚ÙŠÙ… Ø®Ø²Ø§Ù†Ø§Øª</option>
  <option>ØªÙˆØ±ÙŠØ¯ ÙˆØªØ±ÙƒÙŠØ¨ Ø®Ø²Ø§Ù†Ø§Øª</option>
  <option>ØµÙŠØ§Ù†Ø© ÙˆØ¥ØµÙ„Ø§Ø­ Ø®Ø²Ø§Ù†Ø§Øª</option>
</select>
<select id="cycle">
  <option value="30">Ø²ÙŠØ§Ø±Ø© ÙƒÙ„ 30 ÙŠÙˆÙ…</option>
  <option value="60">Ø²ÙŠØ§Ø±Ø© ÙƒÙ„ 60 ÙŠÙˆÙ…</option>
  <option value="custom">Ù…Ø®ØµØµ</option>
</select>
<select id="contractType">
  <option value="year">Ø³Ù†ÙˆÙŠ</option>
  <option value="month">Ø´Ù‡Ø±ÙŠ</option>
  <option value="open">Ù…ÙØªÙˆØ­</option>
</select>
<label>ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ¹Ø§Ù‚Ø¯</label>
<input type="date" id="startDate">
<label>ØªØ§Ø±ÙŠØ® Ø¢Ø®Ø± Ø²ÙŠØ§Ø±Ø©</label>
<input type="date" id="lastVisit">
<label>ØªÙƒÙ„ÙØ© Ø§Ù„Ø²ÙŠØ§Ø±Ø© (Ø¬Ù†ÙŠÙ‡)</label>
<input type="number" id="price">
<button onclick="addContract()">Ø­ÙØ¸ Ø§Ù„Ø¹Ù‚Ø¯</button>
</div><div class="box">
<h3>ğŸ“¦ Ø§Ù„Ø¹Ù‚ÙˆØ¯ Ø§Ù„Ø­Ø§Ù„ÙŠØ©</h3>
<table>
<thead>
<tr>
<th>Ø§Ù„Ø¹Ù…ÙŠÙ„</th>
<th>Ø§Ù„Ø®Ø¯Ù…Ø©</th>
<th>Ø§Ù„Ø¯ÙˆØ±Ø©</th>
<th>Ø¢Ø®Ø± Ø²ÙŠØ§Ø±Ø©</th>
<th>Ø§Ù„Ø²ÙŠØ§Ø±Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©</th>
<th>Ø§Ù„ØªÙƒÙ„ÙØ©</th>
<th>Ø­Ø°Ù</th>
</tr>
</thead>
<tbody id="contracts"></tbody>
</table>
</div><script>
// Ø­Ù…Ø§ÙŠØ© Ø¨Ø³ÙŠØ·Ø©
const PASS_KEY = 'ft_admin_pass';
let savedPass = localStorage.getItem(PASS_KEY) || 'Future2025';
if(!sessionStorage.getItem('logged')){
  const p = prompt('ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±');
  if(p !== savedPass){alert('ØºÙŠØ± Ù…ØµØ±Ø­');location.href='index.html'}
  sessionStorage.setItem('logged',1);
}

const DB_KEY='ft_contracts';
const list = JSON.parse(localStorage.getItem(DB_KEY)||'[]');
const tbody=document.getElementById('contracts');

function nextDate(d,days){
 let x=new Date(d);x.setDate(x.getDate()+days);return x.toISOString().split('T')[0];
}

function addContract(){
 const c=client.value;
 const s=service.value;
 const cycleVal=cycle.value;
 const days=cycleVal==='custom'?0:Number(cycleVal);
 const last=lastVisit.value;
 const priceVal=price.value;
 let next='-';
 if(days && last) next=nextDate(last,days);
 list.push({client:c,service:s,cycle:days?days+' ÙŠÙˆÙ…':'Ù…Ø®ØµØµ',last,last,next,price:priceVal});
 localStorage.setItem(DB_KEY,JSON.stringify(list));
 location.reload();
}

function render(){
 tbody.innerHTML='';
 list.forEach((o,i)=>{
  tbody.innerHTML+=`<tr>
  <td>${o.client}</td>
  <td>${o.service}</td>
  <td>${o.cycle}</td>
  <td>${o.last}</td>
  <td>${o.next}</td>
  <td>${o.price} Ø¬Ù†ÙŠÙ‡</td>
  <td class='del' onclick='del(${i})'>âœ–</td>
  </tr>`;
 });
}
function del(i){if(confirm('Ø­Ø°ÙØŸ')){list.splice(i,1);localStorage.setItem(DB_KEY,JSON.stringify(list));render();}}
function logout(){sessionStorage.removeItem('logged');location.reload();}
render();
</script></body>
</html>
