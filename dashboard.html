<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>âš™ï¸ Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… FutureTank</title>
<style>
body{font-family:Tahoma;background:#f4f9ff;padding:20px}
.box{
  background:#fff;
  padding:15px;
  margin-bottom:15px;
  border-radius:8px
}
a{
  display:inline-block;
  margin:5px;
  padding:8px 12px;
  background:#0077b6;
  color:#fff;
  text-decoration:none;
  border-radius:6px
}
.alert{
  background:#fff3cd;
  padding:10px;
  border-radius:6px;
  margin-bottom:10px
}
</style>
</head>

<body>

<h2>âš™ï¸ Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… FutureTank</h2>

<div class="box">
  <a href="admin-products.html">ğŸ›’ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</a>
  <a href="admin-services.html">ğŸ§° Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø®Ø¯Ù…Ø§Øª</a>
  <a href="admin-clients.html">ğŸ‘¥ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</a>
  <a href="contracts.html">ğŸ“‹ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù‚ÙˆØ¯</a>
  <a href="admin-renewals.html">ğŸ”„ ØªØ¬Ø¯ÙŠØ¯Ø§Øª Ø§Ù„ØªØ¹Ø§Ù‚Ø¯</a>
</div>

<h3>ğŸ”” ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ù‚Ø±Ø¨ ØªØ¬Ø¯ÙŠØ¯ Ø§Ù„ØªØ¹Ø§Ù‚Ø¯</h3>
<div id="alerts"></div>

<script>
function loadDB(){
  return JSON.parse(localStorage.getItem("ft_db")||"{}");
}

function daysBetween(d1,d2){
  return Math.ceil(
    (new Date(d2)-new Date(d1))/(1000*60*60*24)
  );
}

const db = loadDB();
const today = new Date().toISOString().split("T")[0];
const box = document.getElementById("alerts");

const alerts = (db.clients||[]).filter(c=>{
  if(!c.end) return false;
  return daysBetween(today,c.end) <= 10;
});

if(alerts.length===0){
  box.innerHTML="Ù„Ø§ ØªÙˆØ¬Ø¯ ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø­Ø§Ù„ÙŠØ§Ù‹";
}else{
  alerts.forEach(c=>{
    const div=document.createElement("div");
    div.className="alert";
    div.innerHTML=`
      <b>${c.name}</b><br>
      ğŸ“… ÙŠÙ†ØªÙ‡ÙŠ: ${c.end}<br>
      <a target="_blank"
        href="https://wa.me/201150402031?text=ØªÙ†Ø¨ÙŠÙ‡%20ØªØ¬Ø¯ÙŠØ¯%20Ø¹Ù‚Ø¯%20${c.name}">
        ğŸ’¬ ØªÙˆØ§ØµÙ„ ÙˆØ§ØªØ³Ø§Ø¨
      </a>
    `;
    box.appendChild(div);
  });
}
</script>

</body>
</html>
