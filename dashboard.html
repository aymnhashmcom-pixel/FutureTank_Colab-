<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ ÙˆØ§Ù„Ø¹Ù‚ÙˆØ¯ â€” FutureTank</title>
<style>
body{
  font-family: Arial, sans-serif;
  background:#f5f7fa;
  margin:20px;
}
h1{color:#0b5ed7}
section{
  background:#fff;
  padding:15px;
  border-radius:8px;
  margin-bottom:20px;
}
input, select, button{
  padding:8px;
  margin:5px 0;
  width:100%;
}
button{
  background:#0b5ed7;
  color:#fff;
  border:none;
  border-radius:5px;
  cursor:pointer;
}
table{
  width:100%;
  border-collapse:collapse;
}
th, td{
  border:1px solid #ddd;
  padding:8px;
  text-align:center;
}
th{background:#e9f0ff}
.whatsapp{
  background:#25d366;
  color:#fff;
  padding:5px 8px;
  border-radius:5px;
  text-decoration:none;
}
.delete{
  color:red;
  cursor:pointer;
  font-weight:bold;
}
</style>
</head>

<body>

<h1>ğŸ“‹ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ ÙˆØ§Ù„Ø¹Ù‚ÙˆØ¯ â€” FutureTank</h1>

<section>
<h3>â• Ø¥Ø¶Ø§ÙØ© Ø¹Ù‚Ø¯ Ø¬Ø¯ÙŠØ¯</h3>

<input id="client" placeholder="Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„">
<input id="phone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ (Ù…Ø«Ø§Ù„: 01100000000)">

<select id="service">
  <option>ØªØ·Ù‡ÙŠØ± ÙˆØªØ¹Ù‚ÙŠÙ… Ø®Ø²Ø§Ù†Ø§Øª</option>
  <option>ØªÙˆØ±ÙŠØ¯ ÙˆØªØ±ÙƒÙŠØ¨ Ø®Ø²Ø§Ù†Ø§Øª</option>
  <option>ØµÙŠØ§Ù†Ø© ÙˆØ¥ØµÙ„Ø§Ø­ Ø®Ø²Ø§Ù†Ø§Øª</option>
</select>

<select id="cycle">
  <option value="30">Ø²ÙŠØ§Ø±Ø© ÙƒÙ„ 30 ÙŠÙˆÙ…</option>
  <option value="60">Ø²ÙŠØ§Ø±Ø© ÙƒÙ„ 60 ÙŠÙˆÙ…</option>
</select>

<select id="type">
  <option>Ø³Ù†ÙˆÙŠ</option>
  <option>Ø´Ù‡Ø±ÙŠ</option>
  <option>Ù…ÙØªÙˆØ­</option>
</select>

<label>ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ¹Ø§Ù‚Ø¯</label>
<input type="date" id="contractDate">

<label>ØªØ§Ø±ÙŠØ® Ø¢Ø®Ø± Ø²ÙŠØ§Ø±Ø©</label>
<input type="date" id="lastVisit">

<label>ØªÙƒÙ„ÙØ© Ø§Ù„Ø²ÙŠØ§Ø±Ø© (Ø¬Ù†ÙŠÙ‡)</label>
<input type="number" id="cost">

<button onclick="addContract()">Ø­ÙØ¸ Ø§Ù„Ø¹Ù‚Ø¯</button>
</section>

<section>
<h3>ğŸ“¦ Ø§Ù„Ø¹Ù‚ÙˆØ¯ Ø§Ù„Ø­Ø§Ù„ÙŠØ©</h3>
<table>
<thead>
<tr>
<th>Ø§Ù„Ø¹Ù…ÙŠÙ„</th>
<th>Ø§Ù„Ø®Ø¯Ù…Ø©</th>
<th>Ø§Ù„Ø¯ÙˆØ±Ø©</th>
<th>Ø¢Ø®Ø± Ø²ÙŠØ§Ø±Ø©</th>
<th>Ø§Ù„Ø²ÙŠØ§Ø±Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©</th>
<th>Ø§Ù„ØªÙƒÙ„ÙØ©</th>
<th>ÙˆØ§ØªØ³Ø§Ø¨</th>
<th>Ø­Ø°Ù</th>
</tr>
</thead>
<tbody id="contractsTable"></tbody>
</table>
</section>

<script src="system.js"></script>
<script>
function addContract(){
  const contract = {
    client: client.value,
    phone: phone.value,
    service: service.value,
    cycle: cycle.value,
    type: type.value,
    contractDate: contractDate.value,
    lastVisit: lastVisit.value,
    cost: cost.value
  };

  if(!contract.client || !contract.phone){
    alert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„ ÙˆØ±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ");
    return;
  }

  ftAddContract(contract);
  renderContracts();
}

function renderContracts(){
  const data = ftLoadContracts();
  contractsTable.innerHTML = "";

  data.forEach(c=>{
    const tr = document.createElement("tr");

    tr.innerHTML = `
      <td>${c.client}</td>
      <td>${c.service}</td>
      <td>${c.cycle} ÙŠÙˆÙ…</td>
      <td>${c.lastVisit || "-"}</td>
      <td>${c.nextVisit || "-"}</td>
      <td>${c.cost || 0} Ø¬Ù†ÙŠÙ‡</td>
      <td>
        <a class="whatsapp" target="_blank" href="${ftGenerateWhatsApp(c)}">
        ÙˆØ§ØªØ³Ø§Ø¨
        </a>
      </td>
      <td>
        <span class="delete" onclick="remove(${c.id})">âœ–</span>
      </td>
    `;
    contractsTable.appendChild(tr);
  });
}

function remove(id){
  if(confirm("Ø­Ø°Ù Ø§Ù„Ø¹Ù‚Ø¯ØŸ")){
    ftDeleteContract(id);
    renderContracts();
  }
}

renderContracts();
</script>

</body>
</html>
