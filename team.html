<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>ğŸ‘· Ù„ÙˆØ­Ø© Ø§Ù„ÙØ±ÙŠÙ‚ â€” FutureTank</title>
<style>
body{
  font-family: Tahoma;
  background:#f4f9ff;
  margin:20px;
}
h2{color:#4a90e2}
table{
  width:100%;
  border-collapse:collapse;
  background:#fff;
  margin-top:20px;
}
th,td{
  border:1px solid #ddd;
  padding:8px;
  text-align:center;
}
th{background:#eef5ff}
button{
  padding:6px 10px;
  cursor:pointer;
}
.done{background:#4caf50;color:#fff}
.late{background:#f44336;color:#fff}
</style>
</head>

<body>

<h2>ğŸ‘· Ù„ÙˆØ­Ø© Ø§Ù„ÙØ±ÙŠÙ‚ â€” FutureTank</h2>
<p>Ù‡Ø°Ù‡ Ø§Ù„Ù„ÙˆØ­Ø© Ù…Ø®ØµØµØ© Ù„ÙØ±Ù‚ Ø§Ù„ØªÙ†ÙÙŠØ° ÙÙ‚Ø·</p>

<table>
<thead>
<tr>
  <th>Ø§Ù„Ø¹Ù…ÙŠÙ„</th>
  <th>Ø§Ù„Ø®Ø¯Ù…Ø©</th>
  <th>Ù…ÙˆØ¹Ø¯ Ø§Ù„Ø²ÙŠØ§Ø±Ø©</th>
  <th>Ø§Ù„ØªÙƒÙ„ÙØ©</th>
  <th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
  <th>ØªÙ†ÙÙŠØ°</th>
</tr>
</thead>
<tbody id="teamBody"></tbody>
</table>

<script src="system.js"></script>
<script>
const db = loadDB();
const today = new Date().toISOString().split("T")[0];
const body = document.getElementById("teamBody");

(db.contracts || []).forEach(c=>{
  if(c.nextVisit >= today){
    const tr = document.createElement("tr");

    const lateClass = c.nextVisit < today ? "late" : "";

    tr.innerHTML = `
<td>${c.client}</td>
<td>${c.service}</td>
<td class="${lateClass}">${c.nextVisit}</td>
<td>${c.cost} Ø¬Ù†ÙŠÙ‡</td>
<td>${c.status}</td>
<td>
  <button class="done" onclick="executeVisit(${c.id})">
    ØªÙ… Ø§Ù„ØªÙ†ÙÙŠØ°
  </button>
</td>
    `;
    body.appendChild(tr);
  }
});
</script>

</body>
</html>
