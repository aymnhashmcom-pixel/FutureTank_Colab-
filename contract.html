<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>ğŸ“„ Ø¹Ù‚Ø¯ Ø®Ø¯Ù…Ø© FutureTank</title>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<style>
body{font-family:Arial;direction:rtl;background:#f5f5f5;padding:20px}
.card{background:#fff;padding:20px;border-radius:10px;max-width:420px;margin:auto}
input,button{width:100%;padding:10px;margin:10px 0}
button{background:#25D366;color:#fff;border:none;border-radius:6px}
</style>
</head>

<body>

<div class="card">
<h3>ğŸ“„ Ø¹Ù‚Ø¯ Ø®Ø¯Ù…Ø© FutureTank</h3>

<input id="name" placeholder="Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„">
<input id="phone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„">

<button onclick="contract()">âœï¸ Ù…ÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ Ø§Ù„ØªØ¹Ø§Ù‚Ø¯</button>

<p id="status"></p>
</div>

<script>
firebase.initializeApp({
  apiKey: "PUT_YOUR_KEY",
  authDomain: "futuretank-68c26.firebaseapp.com",
  projectId: "futuretank-68c26"
});

const db = firebase.firestore();

async function contract(){
  const name=document.getElementById("name").value.trim();
  const phone=document.getElementById("phone").value.trim();
  const status=document.getElementById("status");

  if(!name || !phone){
    status.innerText="âŒ Ø§Ù„Ø§Ø³Ù… ÙˆØ±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ Ù…Ø·Ù„ÙˆØ¨ÙŠÙ†";
    return;
  }

  status.innerText="â³ Ø¬Ø§Ø±ÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„ØªØ¹Ø§Ù‚Ø¯...";

  try{
    await db.collection("contracts").add({
      clientName: name,
      clientPhone: phone,
      type: "new",
      createdAt: new Date()
    });

    window.open(
      "https://wa.me/201150402031?text=ğŸ“„ ØªØ¹Ø§Ù‚Ø¯ Ø¬Ø¯ÙŠØ¯\nØ§Ù„Ø§Ø³Ù…: "
      +name+"\nØ§Ù„Ù‡Ø§ØªÙ: "+phone,
      "_blank"
    );

    status.innerText="âœ… ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„ØªØ¹Ø§Ù‚Ø¯ Ø¨Ù†Ø¬Ø§Ø­";
    document.getElementById("name").value="";
    document.getElementById("phone").value="";
  }catch(e){
    status.innerText="âŒ ÙØ´Ù„ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„ØªØ¹Ø§Ù‚Ø¯";
  }
}
</script>

</body>
</html>
