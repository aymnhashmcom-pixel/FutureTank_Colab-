
<!doctype html>
<html lang="ar" dir="rtl">
<head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>ุงููุณุงุนุฏ โ ูููุชุดุฑ ุชุงูู</title>
<link rel="stylesheet" href="styles.css"></head><body>
<header class="top"><div class="brand"><div class="logo-wrap" aria-hidden="true"><svg width="64" height="64" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="g" x1="0" x2="1"><stop offset="0" stop-color="#dff6ff"/><stop offset="1" stop-color="#9ee1ff"/></linearGradient></defs><rect width="120" height="120" rx="18" fill="url(#g)"/><path d="M42 6c-6 8-12 12-12 22 0 14 12 24 24 24s24-10 24-24c0-10-9-14-18-34-6 8-9 9-18 12z" fill="#2fa9ff"/></svg></div><div><div class="company">ูููุชุดุฑุชุงูู</div><div class="tag">ููุงุก ุงููุงุก ูู ูุฏููุง</div></div></div></header>
<main class="hero">
  <h2>๐ค ุงููุณุงุนุฏ ุงูุฐูู</h2>
  <div id="chat" class="card">
    <div id="messages" style="min-height:120px"></div>
    <div class="row">
      <input id="prompt" placeholder="ุงูุชุจ ุณุคุงูู ููุง (ูุซุงู: ูุง ูู ุฎุฏูุงุชููุ)" />
      <button id="send" class="btn">ุฅุฑุณุงู</button>
    </div>
  </div>
  <div style="margin-top:12px">
    <button id="speakWelcome" class="buy">ุชุดุบูู ุฑุณุงูุฉ ุชุฑุญูุจ ุตูุชูุฉ</button>
  </div>
</main>
<script src="lang.js"></script>
<script>
function append(msg, who='user'){ const d=document.createElement('div'); d.style.padding='6px 0'; d.innerText = (who==='user'?'ุฃูุช: ':'ุงููุณุงุนุฏ: ')+msg; document.getElementById('messages').appendChild(d); }
function knowledgeReply(text){
  const db = JSON.parse(localStorage.getItem('ft_db')||'{}');
  const t = text.toLowerCase();
  if(t.includes('ุฎุฏูุงุช')||t.includes('services')) return (db.services && db.services.length)? db.services.map(s=>s.name).join(' โข ') : 'ุชูุฑูุฏ/ุชุฑููุจ/ุตูุงูุฉ/ุชุนููู';
  if(t.includes('ููุชุฌ')||t.includes('product')) return (db.products && db.products.length)? db.products.map(p=>p.name).join(' โข ') : 'ุฎุฒุงูุงุช ูููุงุชุฑ';
  if(t.includes('ููู') && t.includes('ุงุฏูุน')) return 'ุทุฑููุฉ ุงูุฏูุน: ุงุชุตุงูุงุช ูุงุด ุนูู ุฑูู ' + (db.company && db.company.phone || '01150402031');
  if(t.includes('ุงุชุตุงู')||t.includes('ูุงุชุณ')||t.includes('phone')) return 'ูุงุชู/ูุงุชุณุงุจ: ' + (db.company && db.company.phone || '01150402031');
  if(t.includes('ุญุฌุฒ')||t.includes('book')) return 'ููุญุฌุฒ ุงุณุชุฎุฏู ุฒุฑ "ุงุญุฌุฒ ุฎุฏูุฉ ุงูุขู" ูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ ุฃู ุงุชุตู ' + (db.company && db.company.phone || '01150402031');
  return 'ุฃูุง ููุง ูููุณุงุนุฏุฉ โ ุงุณุฃููู ุนู: ุงูุฎุฏูุงุชุ ุงูููุชุฌุงุชุ ุงูุญุฌุฒุ ุฃู ุทุฑู ุงูุฏูุน.';
}
document.getElementById('send').addEventListener('click', ()=>{ const q=document.getElementById('prompt').value.trim(); if(!q) return; append(q,'user'); const r = knowledgeReply(q); setTimeout(()=>append(r,'bot'),400); document.getElementById('prompt').value=''; });
document.getElementById('speakWelcome').addEventListener('click', ()=>{ const db = JSON.parse(localStorage.getItem('ft_db')||'{}'); const txt = db.welcome || 'ุฃููุงู ุจูู ูู ูููุชุดุฑุชุงูู. ููุงุก ุงููุงุก ูู ูุฏููุง. ููู ุฃุณุงุนุฏู ุงููููุ'; if('speechSynthesis' in window){ const u = new SpeechSynthesisUtterance(txt); u.lang = 'ar-SA'; speechSynthesis.speak(u); } else alert('ุงูุจุฑูุงูุฌ ูุง ูุฏุนู ุชุดุบูู ุงูุตูุช ูู ูุฐุง ุงููุชุตูุญ'); });
</script>
</body></html>
