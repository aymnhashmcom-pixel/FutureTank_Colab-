<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>ğŸ‘¥ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</title>
</head>

<body>

<h2>ğŸ‘¥ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</h2>

<input id="name" placeholder="Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„"><br><br>
<input id="phone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ"><br><br>
<input id="cost" placeholder="Ø§Ù„ØªÙƒÙ„ÙØ©"><br><br>
<input id="start" type="date"><br><br>
<input id="end" type="date"><br><br>

<button onclick="add()">â• Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ù…ÙŠÙ„</button>

<hr>

<div id="list"></div>

<script src="system.js"></script>
<script>
const db = getDB();

function add(){
  const client = {
    name: name.value,
    phone: phone.value,
    cost: cost.value,
    start: start.value,
    end: end.value
  };
  if(!client.name || !client.phone) return alert("Ø¨ÙŠØ§Ù†Ø§Øª Ù†Ø§Ù‚ØµØ©");

  db.clients.push(client);
  saveDB(db);
  location.reload();
}

function render(){
  list.innerHTML="";
  db.clients.forEach((c,i)=>{
    list.innerHTML+=`
      <div>
        <b>${c.name}</b> â€” ${c.phone}
        <button onclick="del(${i})">ğŸ—‘</button>
      </div>
    `;
  });
}

function del(i){
  db.clients.splice(i,1);
  saveDB(db);
  location.reload();
}

render();
</script>

</body>
</html>
