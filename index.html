
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>FutureTank â€” ÙÙŠÙˆØªØ´Ø± ØªØ§Ù†Ùƒ</title>
  <style>
    :root{
      --sky-1:#e9f7ff;
      --sky-2:#dff6ff;
      --accent:#009ffd;
      --dark:#043348;
      --card:#ffffff;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: 'Tahoma', Arial, sans-serif;
      background:var(--sky-1);
      color:var(--dark);
      -webkit-font-smoothing:antialiased;
    }

    header{
      background:linear-gradient(90deg,var(--accent),#00c6ff);
      color:white;
      padding:28px 16px;
      text-align:center;
      box-shadow:0 6px 20px rgba(0,100,160,0.08);
    }
    .logo-wrap{
      display:flex;
      align-items:center;
      justify-content:center;
      gap:14px;
    }
    .logo-img{
      width:86px;height:86px;border-radius:16px;background:linear-gradient(180deg,#dff6ff,#bfefff);display:flex;align-items:center;justify-content:center;font-size:46px;
      box-shadow:0 6px 20px rgba(0,0,0,0.08);
    }
    .brand{
      text-align:center;
    }
    .brand h1{margin:0;font-size:24px;font-weight:800;letter-spacing:0.6px}
    .brand p{margin:6px 0 0 0;font-size:14px;opacity:0.95}

    main{padding:18px}
    .hero{
      max-width:1000px;margin:18px auto;padding:18px;border-radius:14px;background:var(--card);box-shadow:0 8px 30px rgba(3,59,80,0.04);text-align:center;
    }
    .hero p.lead{color:rgba(3,59,80,0.85);margin:10px auto 0;max-width:760px}
    .btn{
      display:inline-block;background:var(--accent);color:white;padding:12px 22px;border-radius:12px;text-decoration:none;font-weight:700;margin-top:16px;transition:0.15s;
    }
    .btn:hover{transform:translateY(-3px)}
    .row{display:flex;gap:16px;flex-wrap:wrap;justify-content:center;margin-top:18px}
    .card{background:var(--card);border-radius:12px;padding:16px;width:320px;box-shadow:0 6px 20px rgba(3,59,80,0.04);text-align:right}
    .card h3{margin:0 0 10px 0;color:var(--dark)}
    .small{font-size:13px;color:#235a75;margin-top:8px}

    /* PRODUCTS list */
    .products-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:14px;margin-top:14px}
    .product{
      background:linear-gradient(180deg, #fff, #fbfeff);border-radius:10px;padding:12px;border:1px solid #eef9ff;text-align:center;
    }
    .product img{width:100%;height:110px;object-fit:cover;border-radius:8px}
    .product h4{margin:10px 0 6px}
    .price{font-weight:800;color:var(--accent)}
    .product .buy{margin-top:8px;background:var(--accent);color:#fff;padding:8px 10px;border-radius:8px;display:inline-block;text-decoration:none}

    /* SERVICES list */
    .services-list{list-style:none;padding:0;margin:0}
    .services-list li{padding:10px 6px;border-bottom:1px dashed #eef9ff}

    /* cart button */
    .cart-btn{position:fixed;left:16px;bottom:18px;background:var(--accent);color:#fff;padding:12px 14px;border-radius:50px;box-shadow:0 8px 20px rgba(0,120,255,0.2);font-weight:700;cursor:pointer;z-index:1200}

    footer{margin-top:26px;text-align:center;padding:20px;color:#235a75;background:transparent}

    /* Modal */
    .modal-back{position:fixed;inset:0;background:rgba(2,20,30,0.45);display:none;align-items:center;justify-content:center;z-index:2000}
    .modal{background:#fff;border-radius:12px;padding:18px;max-width:920px;width:94%;max-height:86vh;overflow:auto}
    .modal h2{margin:0 0 8px 0}
    .close{float:left;background:#eee;border-radius:8px;padding:6px 10px;cursor:pointer}

    /* cart table */
    table{width:100%;border-collapse:collapse}
    table th,table td{padding:8px;border-bottom:1px solid #f0f7fb;text-align:right}

    @media (max-width:720px){ .card{width:100%} .logo-img{width:68px;height:68px;font-size:40px} }
  </style>
</head>
<body>

  <header>
    <div class="logo-wrap">
      <div class="logo-img" id="logoImg" title="Ù„ÙˆØ¬Ùˆ Ø§Ù„Ø´Ø±ÙƒØ©">ğŸ’§ğŸ¤²</div>
      <div class="brand">
        <h1>ÙÙŠÙˆØªØ´Ø± ØªØ§Ù†Ùƒ â€” FutureTank</h1>
        <p class="slogan">Ù†Ù‚Ø§Ø¡ Ø§Ù„Ù…Ø§Ø¡ Ù‡Ùˆ Ù‡Ø¯ÙÙ†Ø§</p>
      </div>
    </div>
  </header>

  <main>
    <div class="hero">
      <h2 style="margin:0">Ø­Ù„ÙˆÙ„ Ù…ØªÙƒØ§Ù…Ù„Ø© Ù„Ù„Ù…ÙŠØ§Ù‡ â€” Ø®Ø²Ø§Ù†Ø§Øª ÙˆÙÙ„Ø§ØªØ±</h2>
      <p class="lead">Ù†Ù‚Ø¯Ù‘Ù… ØªÙˆØ±ÙŠØ¯ ÙˆØªØ±ÙƒÙŠØ¨ ÙˆØµÙŠØ§Ù†Ø© ÙˆØ®Ø¯Ù…Ø§Øª ØªØ¹Ù‚ÙŠÙ… Ù„Ø®Ø²Ø§Ù†Ø§Øª Ø§Ù„Ù…ÙŠØ§Ù‡ ÙˆÙÙ„Ø§ØªØ± Ø§Ù„Ù…ÙŠØ§Ù‡ Ù…Ø¹ Ø¶Ù…Ø§Ù†Ø§Øª ÙˆØ§Ø¶Ø­Ø© ÙˆØ¬ÙˆØ¯Ø© Ù…Ø¹ØªÙ…Ø¯Ø©.</p>

      <div class="row">
        <a href="assistant.html" class="btn">ğŸ¤– Ø§Ù„ØªØ­Ø¯Ø« Ù…Ø¹ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ</a>
        <button class="btn" onclick="openProducts()">ğŸ›ï¸ ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ù…Ù†ØªØ¬Ø§ØªÙ†Ø§</button>
        <button class="btn" onclick="openShop()">ğŸ›’ ØªØ³ÙˆÙ‚ Ø§Ù„Ø¢Ù†</button>
        <button class="btn" onclick="openServices()">ğŸ§° ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø®Ø¯Ù…Ø§ØªÙ†Ø§</button>
        <button class="btn" onclick="openBook()">ğŸ“… Ø§Ø­Ø¬Ø² Ø®Ø¯Ù…Ø© Ø§Ù„Ø¢Ù†</button>
      </div>

      <div class="row" style="margin-top:22px">
        <div class="card">
          <h3>Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</h3>
          <p class="small">Ø®Ø²Ø§Ù†Ø§Øª Ù…ÙŠØ§Ù‡ â€” ÙÙ„Ø§ØªØ± Ù…ÙŠØ§Ù‡</p>
          <p class="small">Ø¶Ù…Ø§Ù† Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª: <strong>10 Ø³Ù†ÙˆØ§Øª</strong></p>
        </div>

        <div class="card">
          <h3>Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„ØµÙŠØ§Ù†Ø©</h3>
          <p class="small">Ø¶Ù…Ø§Ù† Ø¹Ù„Ù‰ Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„ØµÙŠØ§Ù†Ø©: <strong>5 Ø³Ù†ÙˆØ§Øª</strong></p>
          <p class="small">ØªØ¹Ù‚ÙŠÙ… Ø¨Ø®ÙŠØ§Ø±Ø§Øª Ù…Ø·Ø§Ø¨Ù‚Ø© Ù„Ù…Ø¹Ø§ÙŠÙŠØ± ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØµØ­Ø© Ø§Ù„Ù…ØµØ±ÙŠØ©</p>
        </div>
      </div>
    </div>

    <!-- QUICK SECTIONS -->
    <section style="max-width:1000px;margin:18px auto;">
      <div style="display:flex;gap:16px;flex-wrap:wrap;justify-content:center">
        <div style="width:320px" class="card">
          <h3>Ù„Ù…Ø§Ø°Ø§ ØªØ®ØªØ§Ø±Ù†Ø§ØŸ</h3>
          <p class="small">Ø®Ø¨Ø±Ø©ØŒ Ø§Ù„ØªØ²Ø§Ù… Ø¨Ø§Ù„Ù…ÙˆØ§ØµÙØ§ØªØŒ ÙˆØ¶Ù…Ø§Ù†Ø§Øª Ù…Ø·Ù…Ø¦Ù†Ø© Ù„Ù„Ø¹Ù…Ù„Ø§Ø¡.</p>
        </div>
        <div style="width:320px" class="card">
          <h3>Ø·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹</h3>
          <p class="small">Ø§ØªØµØ§Ù„Ø§Øª ÙƒØ§Ø´: <strong>01150402031</strong></p>
        </div>
        <div style="width:320px" class="card">
          <h3>ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</h3>
          <p class="small">Ù‡Ø§ØªÙ/ÙˆØ§ØªØ³Ø§Ø¨: <strong>01150402031</strong></p>
        </div>
      </div>
    </section>
  </main>

  <button class="cart-btn" onclick="openCart()">ğŸ›’ <span id="cartCount">0</span></button>

  <footer>
    Â© 2025 FutureTank â€” ÙÙŠÙˆØªØ´Ø± ØªØ§Ù†Ùƒ â€” Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©
  </footer>

  <!-- MODALS: products / shop / services / booking / cart -->
  <div class="modal-back" id="modalBack">
    <div class="modal" id="modalContent">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
        <h2 id="modalTitle">Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©</h2>
        <div>
          <button class="close" onclick="closeModal()">Ø¥ØºÙ„Ø§Ù‚ âœ–</button>
        </div>
      </div>

      <div id="modalBody">
        <!-- dynamic -->
      </div>
    </div>
  </div>

<script>
/* --------- Data layer: read from localStorage (admin can change) or fallback to defaults --------- */
const STORAGE_KEY = 'FutureTank_data_v1';

const defaultData = {
  products:[
    { id:'p1', name:'Ø®Ø²Ø§Ù† Ù…ÙŠØ§Ù‡ 1000 Ù„ØªØ±', price:2200, img:'https://via.placeholder.com/400x300?text=Ø®Ø²Ø§Ù†+1000L', category:'Ø®Ø²Ø§Ù†Ø§Øª'},
    { id:'p2', name:'ÙÙ„ØªØ± Ù…ÙŠØ§Ù‡ Ù…Ù†Ø²Ù„ÙŠ 7 Ù…Ø±Ø§Ø­Ù„', price:1850, img:'https://via.placeholder.com/400x300?text=ÙÙ„ØªØ±+7+Ù…Ø±Ø§Ø­Ù„', category:'ÙÙ„Ø§ØªØ±'},
    { id:'p3', name:'ÙÙ„ØªØ± ØµÙ†Ø§Ø¹ÙŠ 20 Ù„ØªØ±/Ø¯Ù‚ÙŠÙ‚Ø©', price:9200, img:'https://via.placeholder.com/400x300?text=ÙÙ„ØªØ±+ØµÙ†Ø§Ø¹ÙŠ', category:'ÙÙ„Ø§ØªØ±'}
  ],
  services:[
    { id:'s1', name:'ØªÙˆØ±ÙŠØ¯ ÙˆØªØ±ÙƒÙŠØ¨ Ø®Ø²Ø§Ù†Ø§Øª Ø§Ù„Ù…ÙŠØ§Ù‡', price:300, desc:'ØªÙˆØ±ÙŠØ¯ ÙˆØªØ±ÙƒÙŠØ¨ ÙˆÙÙ‚ Ø§Ù„Ù…ÙˆØ§ØµÙØ§Øª'},
    { id:'s2', name:'ØµÙŠØ§Ù†Ø© ÙˆØ¥ØµÙ„Ø§Ø­ Ø®Ø²Ø§Ù†Ø§Øª Ø§Ù„Ù…ÙŠØ§Ù‡', price:450, desc:'ØªØ´Ø®ÙŠØµ ÙˆØµÙŠØ§Ù†Ø© Ø´Ø§Ù…Ù„Ø©'},
    { id:'s3', name:'ØªØ·Ù‡ÙŠØ± ÙˆØªØ¹Ù‚ÙŠÙ… Ø®Ø²Ø§Ù†Ø§Øª Ù…ÙŠØ§Ù‡ Ø§Ù„Ø´Ø±Ø¨', price:300, desc:'Ù…Ø·Ø¨Ù‚ Ù„Ù…Ø¹Ø§ÙŠÙŠØ± ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØµØ­Ø© Ø§Ù„Ù…ØµØ±ÙŠØ©'},
    { id:'s4', name:'ØªÙˆØ±ÙŠØ¯ ÙˆØªØ±ÙƒÙŠØ¨ ÙÙ„Ø§ØªØ± Ø§Ù„Ù…ÙŠØ§Ù‡', price:1200, desc:'ÙÙ„ØªØ± Ù…Ù†Ø²Ù„ÙŠ Ù…Ø¹ Ø§Ù„ØªØ±ÙƒÙŠØ¨'},
    { id:'s5', name:'ØµÙŠØ§Ù†Ø© ÙˆØ¥ØµÙ„Ø§Ø­ ÙÙ„Ø§ØªØ± Ø§Ù„Ù…ÙŠØ§Ù‡', price:400, desc:'ØµÙŠØ§Ù†Ø© ÙÙ„ØªØ± ÙˆØªØºÙŠÙŠØ± ÙÙ„Ø§ØªØ±'}
  ],
  paymentNumber: '01150402031',
  brand: { name_ar:'ÙÙŠÙˆØªØ´Ø± ØªØ§Ù†Ùƒ', name_en:'FutureTank', slogan:'Ù†Ù‚Ø§Ø¡ Ø§Ù„Ù…Ø§Ø¡ Ù‡Ùˆ Ù‡Ø¯ÙÙ†Ø§' }
};

function loadData(){
  try{
    const raw = localStorage.getItem(STORAGE_KEY);
    if(raw){
      return JSON.parse(raw);
    }
  }catch(e){}
  // fallback: copy default so modifications don't alter original object
  return JSON.parse(JSON.stringify(defaultData));
}

function saveData(data){
  localStorage.setItem(STORAGE_KEY, JSON.stringify(data));
}

/* --------- CART --------- */
const CART_KEY = 'FutureTank_cart_v1';
function loadCart(){ return JSON.parse(localStorage.getItem(CART_KEY) || '[]'); }
function saveCart(c){ localStorage.setItem(CART_KEY, JSON.stringify(c)); updateCartCount(); }
function updateCartCount(){ const c = loadCart(); document.getElementById('cartCount').innerText = c.reduce((s,i)=> s + i.qty, 0); }

/* --------- UI actions --------- */
function openModal(title,bodyHtml){
  document.getElementById('modalTitle').innerText = title;
  document.getElementById('modalBody').innerHTML = bodyHtml;
  document.getElementById('modalBack').style.display = 'flex';
}
function closeModal(){
  document.getElementById('modalBack').style.display='none';
}

/* --------- Products / Shop --------- */
function renderProductsList(){
  const data = loadData();
  let html = `<div style="text-align:right"><p style="margin:0 0 10px">Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø© â€” Ø¶Ù…Ø§Ù† Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª: <strong>10 Ø³Ù†ÙˆØ§Øª</strong></p>`;
  html += `<div class="products-grid">`;
  data.products.forEach(p=>{
    html += `<div class="product">
      <img src="${p.img}" alt="${p.name}">
      <h4>${p.name}</h4>
      <div class="price">${p.price.toLocaleString()} Ø¬.Ù…</div>
      <div style="margin-top:6px"><a class="buy" href="#" onclick="addToCart('${p.id}', 'product');return false;">Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©</a></div>
    </div>`;
  });
  html += `</div></div>`;
  return html;
}
function openProducts(){ openModal('Ù…Ù†ØªØ¬Ø§ØªÙ†Ø§', renderProductsList() + `<div style="margin-top:12px;text-align:left"><button class="btn" onclick="openShop();closeModal();">ğŸ›’ Ø§Ù„Ø°Ù‡Ø§Ø¨ Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø© ÙˆØ§Ù„ØªØ³ÙˆÙ‚</button></div>`); }

function openShop(){
  const data = loadData();
  let html = `<h3>Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚ / Ø§Ù„ØªØ³ÙˆÙ‚ Ø§Ù„Ø¢Ù†</h3>`;
  const cart = loadCart();
  if(cart.length===0){
    html += `<p>Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ© Ø­Ø§Ù„ÙŠØ§Ù‹. ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬Ø§Øª Ù…Ù† ØµÙØ­Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª.</p>`;
  }
  html += `<table><thead><tr><th>Ø§Ù„Ù…Ù†ØªØ¬</th><th>Ø§Ù„ÙƒÙ…ÙŠØ©</th><th>Ø§Ù„Ø³Ø¹Ø±</th></tr></thead><tbody>`;
  let total=0;
  cart.forEach(item=>{
    const product = data.products.find(p=>p.id===item.id) || data.services.find(s=>s.id===item.id) || {};
    const line = (product.price||0)*item.qty;
    total += line;
    html += `<tr><td>${product.name||item.name}</td><td>${item.qty}</td><td>${line.toLocaleString()} Ø¬.Ù…</td></tr>`;
  });
  html += `</tbody></table>`;
  html += `<div style="text-align:right;margin-top:12px;font-weight:800">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${total.toLocaleString()} Ø¬.Ù…</div>`;
  html += `<div style="margin-top:12px;display:flex;gap:8px;justify-content:flex-end"><button class="btn" onclick="checkout()">ğŸ”– Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ø¢Ù†</button><button class="btn" onclick="clearCart()">ğŸ—‘ ØªÙØ±ÙŠØº Ø§Ù„Ø³Ù„Ø©</button></div>`;
  openModal('Ø§Ù„ØªØ³ÙˆÙ‚', html);
}

function addToCart(id, type){
  let cart = loadCart();
  const idx = cart.findIndex(i=>i.id===id);
  if(idx>-1) cart[idx].qty++;
  else cart.push({id, qty:1, type});
  saveCart(cart);
  alert('ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©');
}

/* --------- Services / Booking --------- */
function renderServicesList(){
  const data = loadData();
  let html = `<p style="margin:0 0 8px">Ø®Ø¯Ù…Ø§ØªÙ†Ø§ Ø§Ù„Ù…ØªØ§Ø­Ø©:</p><ul class="services-list">`;
  data.services.forEach(s=>{
    html += `<li><strong>${s.name}</strong><div style="font-size:13px;color:#456">${s.desc||''}</div><div style="margin-top:6px;color:var(--accent);font-weight:800">${s.price.toLocaleString()} Ø¬.Ù…</div><div style="margin-top:6px"><button class="btn" onclick="addServiceToCart('${s.id}');">Ø§Ø­Ø¬Ø² Ù‡Ø°Ù‡ Ø§Ù„Ø®Ø¯Ù…Ø©</button></div></li>`;
  });
  html += `</ul>`;
  return html;
}
function openServices(){ openModal('Ø®Ø¯Ù…Ø§ØªÙ†Ø§', renderServicesList() + `<div style="margin-top:10px;color:#235a75">Ø§Ù„Ø¶Ù…Ø§Ù† Ø¹Ù„Ù‰ Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„ØµÙŠØ§Ù†Ø©: <strong>5 Ø³Ù†ÙˆØ§Øª</strong></div>`); }

function addServiceToCart(id){
  let cart = loadCart();
  const idx = cart.findIndex(i=>i.id===id);
  if(idx>-1) cart[idx].qty++;
  else cart.push({id, qty:1, type:'service'});
  saveCart(cart);
  alert('ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø®Ø¯Ù…Ø© Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©');
}
function openBook(){ openModal('Ø§Ø­Ø¬Ø² Ø®Ø¯Ù…Ø© Ø§Ù„Ø¢Ù†', renderServicesList() + `<div style="margin-top:12px"><small>Ø¨Ø¹Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ø­Ø¬Ø²ØŒ Ø³ØªØ¸Ù‡Ø± Ø§Ù„Ø³Ù„Ø© Ù„Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø¯ÙØ¹ Ø¹Ø¨Ø± Ø§ØªØµØ§Ù„Ø§Øª ÙƒØ§Ø´.</small></div>`); }

/* --------- Checkout / Payment --------- */
function checkout(){
  const data = loadData();
  const cart = loadCart();
  if(cart.length===0){ alert('Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©'); return; }
  let total = 0;
  cart.forEach(it=>{
    const product = data.products.find(p=>p.id===it.id) || data.services.find(s=>s.id===it.id) || {};
    total += (product.price||0)*it.qty;
  });
  const html = `<div>
     <p>Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø³ØªØ­Ù‚: <strong>${total.toLocaleString()} Ø¬.Ù…</strong></p>
     <p>Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹: <strong>Ø§ØªØµØ§Ù„Ø§Øª ÙƒØ§Ø´</strong></p>
     <p>Ø±Ù‚Ù… Ø§Ù„Ø¯ÙØ¹ / Ø§Ù„Ø­Ø³Ø§Ø¨: <strong>${data.paymentNumber}</strong></p>
     <p>Ù„Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø¯ÙØ¹: Ø£Ø±Ø³Ù„ Ø¥ÙŠØµØ§Ù„ Ø§Ù„Ø¯ÙØ¹ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨ Ø¥Ù„Ù‰ Ù†ÙØ³ Ø§Ù„Ø±Ù‚Ù…: <strong>${data.paymentNumber}</strong></p>
     <div style="margin-top:12px;display:flex;gap:8px;justify-content:flex-end">
       <button class="btn" onclick="confirmOrder()">âœ… ØªÙ… Ø§Ù„Ø¯ÙØ¹ â€” Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø´Ø¹Ø§Ø±</button>
       <button class="btn" onclick="closeModal()">Ø¥Ù„ØºØ§Ø¡</button>
     </div>
  </div>`;
  openModal('Ø§Ù„Ø¯ÙØ¹', html);
}

function confirmOrder(){
  // For now simulate order: clear cart and show message
  const cart = loadCart();
  if(cart.length===0){ alert('Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©'); closeModal(); return; }
  // create fake order record into localStorage (orders key)
  const orders = JSON.parse(localStorage.getItem('FutureTank_orders')||'[]');
  const data = loadData();
  let total = 0; const items = [];
  cart.forEach(it=>{
    const product = data.products.find(p=>p.id===it.id) || data.services.find(s=>s.id===it.id) || {};
    items.push({id: it.id, name: product.name || 'Ù…Ù†ØªØ¬', qty: it.qty, price: product.price || 0});
    total += (product.price||0) * it.qty;
  });
  orders.push({ id: 'ORD' + Date.now(), date:new Date().toLocaleString(), items, total });
  localStorage.setItem('FutureTank_orders', JSON.stringify(orders));
  saveCart([]); // clears
  closeModal();
  alert('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­. ÙŠØ±Ø¬Ù‰ Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø¯ÙØ¹ Ø¹Ø¨Ø± Ø§ØªØµØ§Ù„Ø§Øª ÙƒØ§Ø´ ÙˆØ¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¥ÙŠØµØ§Ù„ Ø¹Ù„Ù‰ Ø±Ù‚Ù… ' + data.paymentNumber);
}

/* --------- Cart utilities --------- */
function openCart(){
  const data = loadData();
  const cart = loadCart();
  if(cart.length===0){
    openModal('Ø§Ù„Ø³Ù„Ø©','<p>Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©.</p>');
    return;
  }
  let html = `<table><thead><tr><th>Ø§Ù„Ù…Ù†ØªØ¬/Ø§Ù„Ø®Ø¯Ù…Ø©</th><th>Ø§Ù„ÙƒÙ…ÙŠØ©</th><th>Ø§Ù„Ø³Ø¹Ø±</th></tr></thead><tbody>`;
  let total = 0;
  cart.forEach(it=>{
    const product = data.products.find(p=>p.id===it.id) || data.services.find(s=>s.id===it.id) || {};
    const line = (product.price||0) * it.qty;
    total += line;
    html += `<tr><td>${product.name||'â€”'}</td><td>${it.qty}</td><td>${line.toLocaleString()} Ø¬.Ù…</td></tr>`;
  });
  html += `</tbody></table><div style="text-align:right;margin-top:12px;font-weight:800">Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: ${total.toLocaleString()} Ø¬.Ù…</div>`;
  html += `<div style="margin-top:12px;display:flex;gap:8px;justify-content:flex-end"><button class="btn" onclick="checkout()">ğŸ”– Ø§Ù„Ø¯ÙØ¹</button><button class="btn" onclick="clearCart()">ğŸ—‘ ØªÙØ±ÙŠØº Ø§Ù„Ø³Ù„Ø©</button></div>`;
  openModal('Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚', html);
}

function clearCart(){ if(confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ ØªÙØ±ÙŠØº Ø§Ù„Ø³Ù„Ø©ØŸ')){ saveCart([]); closeModal(); alert('ØªÙ… ØªÙØ±ÙŠØº Ø§Ù„Ø³Ù„Ø©'); } }

/* --------- Admin integration note: dashboard.html can edit data in localStorage using STORAGE_KEY --------- */

/* init */
document.addEventListener('DOMContentLoaded', ()=>{
  updateCartCount();
  // try to load brand override from localStorage (allows dashboard to change logo or names)
  const d = loadData();
  if(d.brand && d.brand.name_ar) document.querySelector('.brand h1').innerText = d.brand.name_ar + ' â€” ' + (d.brand.name_en||'FutureTank');
  if(d.brand && d.brand.slogan) document.querySelector('.slogan').innerText = d.brand.slogan;
  // logo image as dataURL if saved
  const logoData = localStorage.getItem('FutureTank_logoData');
  if(logoData) document.getElementById('logoImg').style.backgroundImage = `url(${logoData})`, document.getElementById('logoImg').innerText='';
});
</script>

</body>
</html>
