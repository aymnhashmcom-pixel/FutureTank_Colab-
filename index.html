<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… â€“ FutureTank</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<h2>ğŸ› ï¸ Ø¥Ø¶Ø§ÙØ© Ø¹Ù‚Ø¯ Ø¬Ø¯ÙŠØ¯</h2>

<input id="name" placeholder="Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„">
<input id="phone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ">
<input id="address" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù†">
<input id="service" placeholder="Ø§Ù„Ø®Ø¯Ù…Ø©">
<input id="duration" placeholder="Ù…Ø¯Ø© Ø§Ù„ØªØ¹Ø§Ù‚Ø¯">
<input id="cost" placeholder="Ø§Ù„ØªÙƒÙ„ÙØ©">
<input id="lastVisit" placeholder="Ø¢Ø®Ø± Ø²ÙŠØ§Ø±Ø©">
<input id="nextVisit" placeholder="Ø§Ù„Ø²ÙŠØ§Ø±Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©">

<button onclick="saveContract()">Ø¥Ø±Ø³Ø§Ù„</button>
<p id="status"></p>

<script>
const API_URL = "https://script.google.com/macros/s/AKfycbzt5Kkg9A3t9TycMwp3rQJvq4CpGujb1UO75MlOFF9uhba-gIr_2pDs--IH7RY1yM1j/exec";

async function saveContract() {
  const status = document.getElementById("status");

  const data = {
    name: name.value.trim(),
    phone: phone.value.trim(),
    address: address.value.trim(),
    service: service.value.trim(),
    duration: duration.value.trim(),
    cost: cost.value.trim(),
    lastVisit: lastVisit.value.trim(),
    nextVisit: nextVisit.value.trim()
  };

  try {
    const res = await fetch(API_URL, {
      method: "POST",
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify(data)
    });

    const result = await res.json();

    if (result.success) {
      status.innerText = "âœ… ØªÙ… Ø­ÙØ¸ Ø§Ù„ØªØ¹Ø§Ù‚Ø¯ Ø¨Ù†Ø¬Ø§Ø­";
      window.open(
        "https://wa.me/201150402031?text=ØªÙ…%20Ø¥Ø¶Ø§ÙØ©%20ØªØ¹Ø§Ù‚Ø¯%20Ø¬Ø¯ÙŠØ¯%20Ù„Ù„Ø¹Ù…ÙŠÙ„%20" + data.name
      );
    } else {
      status.innerText = "âŒ ÙØ´Ù„ Ø§Ù„Ø­ÙØ¸";
    }

  } catch (e) {
    status.innerText = "âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„";
  }
}
</script>

</body>
</html>
