<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>โ๏ธ ููุญุฉ ุงูุชุญูู | Future Tank</title>
<link rel="stylesheet" href="style.css">
</head>

<body>

<header class="main-header">
<h1>โ๏ธ ููุญุฉ ุงูุชุญูู</h1>
</header>

<main class="container">

<div id="loginBox" style="text-align:center;">
<h3>๐ ุชุณุฌูู ุงูุฏุฎูู</h3>
<input type="password" id="password" placeholder="ูููุฉ ุงูุณุฑ">
<br><br>
<button onclick="login()">ุฏุฎูู</button>
<p id="loginMsg" style="color:red;"></p>
</div>

<div id="adminPanel" style="display:none;text-align:center;">
<h3>โ ุฅุถุงูุฉ ููุชุฌ ุฌุฏูุฏ</h3>

<input id="name" placeholder="ุงุณู ุงูููุชุฌ"><br>
<input id="desc" placeholder="ูุตู ุงูููุชุฌ"><br>
<input id="category" placeholder="ุงููุณู (ูุซุงู: ุฎุฒุงูุงุช ุงูููุงู)"><br>
<input id="price" placeholder="ุงูุณุนุฑ"><br>
<input id="image" placeholder="ุฑุงุจุท ุงูุตูุฑุฉ"><br><br>

<button onclick="addProduct()">๐พ ุญูุธ ุงูููุชุฌ</button>

<p id="status"></p>
</div>

</main>

<footer class="main-footer">
ยฉ Future Tank โ ููุญุฉ ุงูุชุญูู
</footer>

<script>
const API_URL="https://script.google.com/macros/s/AKfycbz9o1qnc3lMqNjlml5Hotsmzt6NHbS01XneR1wkf_u4W1sNnXphql5VyxDNdCiz8l4T/exec";

let adminPassword="";

/* ================= LOGIN ================= */
function login(){

const pass=document.getElementById("password").value.trim();

fetch(API_URL+"?admin=true&check=1&password="+encodeURIComponent(pass))
.then(res=>res.json())
.then(data=>{
if(data.success){
adminPassword=pass;
document.getElementById("loginBox").style.display="none";
document.getElementById("adminPanel").style.display="block";
}else{
document.getElementById("loginMsg").innerText="โ ูููุฉ ุงูุณุฑ ุบูุฑ ุตุญูุญุฉ";
}
});
}

/* ================= ADD PRODUCT ================= */
function addProduct(){

const product={
admin:true,
action:"addProduct",
password:adminPassword,
name:document.getElementById("name").value,
description:document.getElementById("desc").value,
category:document.getElementById("category").value,
price:document.getElementById("price").value,
image:document.getElementById("image").value
};

fetch(API_URL,{
method:"POST",
body:JSON.stringify(product)
})
.then(res=>res.json())
.then(data=>{
if(data.success){
document.getElementById("status").innerHTML="โ ุชู ุฅุถุงูุฉ ุงูููุชุฌ ุจูุฌุงุญ";
}else{
document.getElementById("status").innerHTML="โ ุญุฏุซ ุฎุทุฃ";
}
});
}
</script>

</body>
  </html>
