<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª â€” FutureTank</title>
<style>
body{font-family:Tahoma;background:#f4f9ff;padding:20px}
input,textarea,button{padding:8px;margin:4px}
.card{background:#fff;padding:10px;margin:10px 0;border-radius:6px}
button{background:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer}
button:hover{background:#0056b3}
.delete{background:#dc3545}
</style>
</head>

<body>

<script src="auth.js"></script>
<script>
requireRole("admin");
</script>

<h2>ğŸ›’ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</h2>

<div id="list"></div>

<hr>

<h3>â• Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯</h3>
<input id="name" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬">
<input id="price" placeholder="Ø§Ù„Ø³Ø¹Ø±">
<textarea id="desc" placeholder="Ø§Ù„ÙˆØµÙ"></textarea><br>
<button onclick="addProduct()">Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬</button>

<script>
const db = JSON.parse(localStorage.getItem("ft_db") || "{}");
db.products = db.products || [];

function render(){
  const list = document.getElementById("list");
  list.innerHTML = "";
  db.products.forEach((p,i)=>{
    const div=document.createElement("div");
    div.className="card";
    div.innerHTML=`
      <b>${p.name}</b><br>
      Ø§Ù„Ø³Ø¹Ø±: ${p.price} Ø¬Ù†ÙŠÙ‡<br>
      ${p.desc || ""}
      <br>
      <button class="delete" onclick="remove(${i})">Ø­Ø°Ù</button>
    `;
    list.appendChild(div);
  });
}
render();

function addProduct(){
  db.products.push({
    name:name.value,
    price:price.value,
    desc:desc.value
  });
  localStorage.setItem("ft_db",JSON.stringify(db));
  name.value=price.value=desc.value="";
  render();
}

function remove(i){
  db.products.splice(i,1);
  localStorage.setItem("ft_db",JSON.stringify(db));
  render();
}
</script>

</body>
</html>
