<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>ğŸ§° Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø®Ø¯Ù…Ø§Øª</title>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<style>
body{font-family:Arial;direction:rtl;background:#f5f5f5;padding:20px}
.card{background:#fff;padding:20px;border-radius:10px;max-width:520px;margin:auto}
input,textarea,button{width:100%;padding:10px;margin:6px 0}
button{background:#4CAF50;color:#fff;border:none;border-radius:6px}
img{max-width:100%;margin-top:10px;border-radius:8px}
</style>
</head>

<body>

<div class="card">
<h3>ğŸ§° Ø¥Ø¶Ø§ÙØ© Ø®Ø¯Ù…Ø©</h3>

<input id="name" placeholder="Ø§Ø³Ù… Ø§Ù„Ø®Ø¯Ù…Ø©">
<textarea id="desc" placeholder="ÙˆØµÙ Ø§Ù„Ø®Ø¯Ù…Ø©"></textarea>
<input id="price" type="number" placeholder="Ø§Ù„Ø³Ø¹Ø± Ø¨Ø§Ù„Ø¬Ù†ÙŠÙ‡">
<input id="image" type="file" accept="image/*">

<button onclick="saveService()">â• Ø­ÙØ¸ Ø§Ù„Ø®Ø¯Ù…Ø©</button>
<p id="status"></p>
</div>

<script>
// ğŸ”’ Ø­Ù…Ø§ÙŠØ© Ù…Ù† Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù…ØªÙƒØ±Ø±Ø©
if (!firebase.apps.length) {
  firebase.initializeApp({
    apiKey: "AIzaSyBmWKWIPtVjUYXGOF77Zstmz3ROpvKIDog",
    authDomain: "futuretank-68c26.firebaseapp.com",
    projectId: "futuretank-68c26"
  });
}

const db = firebase.firestore();

const nameInput  = document.getElementById("name");
const descInput  = document.getElementById("desc");
const priceInput = document.getElementById("price");
const imageInput = document.getElementById("image");
const statusBox  = document.getElementById("status");

function saveService(){
  statusBox.innerText = "";

  const name  = nameInput.value.trim();
  const desc  = descInput.value.trim();
  const price = priceInput.value;
  const file  = imageInput.files[0];

  if(!name || !price || !file){
    statusBox.innerText = "âŒ ÙƒÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø·Ù„ÙˆØ¨Ø©";
    return;
  }

  const reader = new FileReader();
  reader.onload = function(e){
    db.collection("services").add({
      name: name,
      description: desc,
      price: Number(price),
      image: e.target.result,
      createdAt: firebase.firestore.FieldValue.serverTimestamp()
    })
    .then(()=>{
      statusBox.innerText = "âœ… ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø®Ø¯Ù…Ø© Ø¨Ù†Ø¬Ø§Ø­";
      nameInput.value="";
      descInput.value="";
      priceInput.value="";
      imageInput.value="";
    })
    .catch(err=>{
      statusBox.innerText = "âŒ Ø®Ø·Ø£: " + err.message;
      console.error("Firestore Error:", err);
    });
  };

  reader.readAsDataURL(file);
}
</script>

</body>
</html>
