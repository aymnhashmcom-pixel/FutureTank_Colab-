<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>ğŸ§° Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø®Ø¯Ù…Ø§Øª</title>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<script>
  const firebaseConfig = {
    apiKey: "AIzaSyBmWKWIPtVjUYXGOF77Zstmz3ROpvKIDog",
    authDomain: "futuretank-68c26.firebaseapp.com",
    projectId: "futuretank-68c26"
  };
  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();
</script>

<style>
body {
  font-family: Arial;
  direction: rtl;
  background: #f4f6f8;
  padding: 20px;
}
.card {
  background: #fff;
  padding: 15px;
  border-radius: 10px;
  margin-bottom: 20px;
}
input, textarea, select {
  width: 100%;
  padding: 10px;
  margin: 6px 0;
}
button {
  background: #0a7cff;
  color: #fff;
  border: none;
  padding: 10px;
  border-radius: 6px;
  cursor: pointer;
}
.service {
  background: #fff;
  padding: 10px;
  border-radius: 8px;
  margin-bottom: 8px;
}
.delete {
  color: red;
  cursor: pointer;
  float: left;
}
#status {
  font-weight: bold;
  margin-top: 8px;
}
</style>
</head>

<body>

<h2>ğŸ§° Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø®Ø¯Ù…Ø§Øª</h2>

<div class="card">
  <h3>â• Ø¥Ø¶Ø§ÙØ© Ø®Ø¯Ù…Ø©</h3>

  <!-- Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø®Ø¯Ù…Ø© -->
  <select id="serviceSelect" onchange="syncServiceName()">
    <option value="">â€” Ø§Ø®ØªØ± Ø®Ø¯Ù…Ø© Ø¬Ø§Ù‡Ø²Ø© â€”</option>
    <option>ØªÙˆØ±ÙŠØ¯ ÙˆØªØ±ÙƒÙŠØ¨ Ø®Ø²Ø§Ù†Ø§Øª Ø§Ù„Ù…ÙŠØ§Ù‡</option>
    <option>ØµÙŠØ§Ù†Ø© ÙˆØ¥ØµÙ„Ø§Ø­ Ø®Ø²Ø§Ù†Ø§Øª Ø§Ù„Ù…ÙŠØ§Ù‡</option>
    <option>ØªØ·Ù‡ÙŠØ± ÙˆØªØ¹Ù‚ÙŠÙ… Ø®Ø²Ø§Ù†Ø§Øª Ù…ÙŠØ§Ù‡ Ø§Ù„Ø´Ø±Ø¨</option>
    <option>ØªÙˆØ±ÙŠØ¯ ÙˆØªØ±ÙƒÙŠØ¨ ÙÙ„Ø§ØªØ± Ø§Ù„Ù…ÙŠØ§Ù‡</option>
    <option>ØµÙŠØ§Ù†Ø© ÙˆØ¥ØµÙ„Ø§Ø­ ÙÙ„Ø§ØªØ± Ø§Ù„Ù…ÙŠØ§Ù‡</option>
  </select>

  <!-- Ø¥Ø¯Ø®Ø§Ù„ ÙŠØ¯ÙˆÙŠ -->
  <input id="name" placeholder="Ø£Ùˆ Ø§ÙƒØªØ¨ Ø§Ø³Ù… Ø®Ø¯Ù…Ø© ÙŠØ¯ÙˆÙŠÙ‹Ø§">

  <textarea id="desc" placeholder="ÙˆØµÙ Ø§Ù„Ø®Ø¯Ù…Ø©"></textarea>
  <input id="price" type="number" placeholder="Ø³Ø¹Ø± Ø§Ù„Ø®Ø¯Ù…Ø© Ø¨Ø§Ù„Ø¬Ù†ÙŠÙ‡">
  <input id="image" placeholder="Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø© Ø§Ù„Ø®Ø¯Ù…Ø© (jpg / png)">
  <input id="video" placeholder="Ø±Ø§Ø¨Ø· ÙÙŠØ¯ÙŠÙˆ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)">

  <button onclick="addService()">â• Ø¥Ø¶Ø§ÙØ©</button>
  <p id="status"></p>
</div>

<h3>ğŸ“‹ Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©</h3>
<div id="services"></div>

<script>
const servicesDiv = document.getElementById("services");
const statusEl = document.getElementById("status");

function syncServiceName() {
  const select = document.getElementById("serviceSelect");
  if (select.value) {
    document.getElementById("name").value = select.value;
  }
}

function addService() {
  const name = document.getElementById("name").value.trim();
  const desc = document.getElementById("desc").value.trim();
  const price = document.getElementById("price").value.trim();
  const image = document.getElementById("image").value.trim();
  const video = document.getElementById("video").value.trim();

  if (!name || !price || !image) {
    statusEl.innerText = "âŒ Ø§Ù„Ø§Ø³Ù… + Ø§Ù„Ø³Ø¹Ø± + Ø§Ù„ØµÙˆØ±Ø© Ù…Ø·Ù„ÙˆØ¨ÙŠÙ†";
    statusEl.style.color = "red";
    return;
  }

  statusEl.innerText = "â³ Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø¶Ø§ÙØ©...";
  statusEl.style.color = "#333";

  db.collection("services").add({
    name,
    description: desc,
    price,
    image,
    video,
    createdAt: Date.now()
  }).then(() => {
    statusEl.innerText = "âœ… ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø®Ø¯Ù…Ø© Ø¨Ù†Ø¬Ø§Ø­";
    statusEl.style.color = "green";
    document.querySelectorAll("input, textarea").forEach(i => i.value = "");
    document.getElementById("serviceSelect").value = "";
  }).catch(err => {
    statusEl.innerText = "âŒ ÙØ´Ù„ Ø§Ù„Ø¥Ø¶Ø§ÙØ©";
    statusEl.style.color = "red";
    console.error(err);
  });
}

db.collection("services")
.orderBy("createdAt", "desc")
.onSnapshot(snapshot => {
  servicesDiv.innerHTML = "";
  snapshot.forEach(doc => {
    const s = doc.data();
    servicesDiv.innerHTML += `
      <div class="service">
        <span class="delete" onclick="del('${doc.id}')">ğŸ—‘ Ø­Ø°Ù</span>
        <strong>${s.name}</strong> â€“ ${s.price} Ø¬Ù†ÙŠÙ‡
      </div>
    `;
  });
});

function del(id) {
  if (confirm("Ø­Ø°Ù Ø§Ù„Ø®Ø¯Ù…Ø©ØŸ")) {
    db.collection("services").doc(id).delete();
  }
}
</script>

</body>
</html>
