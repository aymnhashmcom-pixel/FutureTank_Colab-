<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>ğŸ§° Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø®Ø¯Ù…Ø§Øª</title>
<style>
body{font-family:Arial;direction:rtl;background:#f5f5f5;padding:20px}
.card{background:#fff;padding:15px;border-radius:10px;margin-bottom:20px}
input,textarea,button{width:100%;padding:10px;margin:6px 0}
button{background:#0d6efd;color:#fff;border:none;border-radius:6px;cursor:pointer}
.service{border-bottom:1px solid #ddd;padding:10px 0}
img,video{max-width:100%;border-radius:6px;margin-top:5px}
.delete{background:#dc3545;margin-top:5px}
</style>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
</head>

<body>

<h2>ğŸ§° Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø®Ø¯Ù…Ø§Øª</h2>

<div class="card">
  <h3>â• Ø¥Ø¶Ø§ÙØ© Ø®Ø¯Ù…Ø©</h3>
  <input id="name" placeholder="Ø§Ø³Ù… Ø§Ù„Ø®Ø¯Ù…Ø©">
  <textarea id="desc" placeholder="ÙˆØµÙ Ø§Ù„Ø®Ø¯Ù…Ø©"></textarea>
  <input id="price" type="number" placeholder="Ø§Ù„Ø³Ø¹Ø±">
  <input id="image" placeholder="Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø© Ø§Ù„Ø®Ø¯Ù…Ø©">
  <input id="video" placeholder="Ø±Ø§Ø¨Ø· ÙÙŠØ¯ÙŠÙˆ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)">
  <button onclick="addService()">â• Ø­ÙØ¸ Ø§Ù„Ø®Ø¯Ù…Ø©</button>
  <p id="msg"></p>
</div>

<div class="card">
  <h3>ğŸ“‹ Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©</h3>
  <div id="services"></div>
</div>

<script>
firebase.initializeApp({
  apiKey: "AIzaSyBmWKWIPtVjUYXGOF77Zstmz3ROpvKIDog",
  authDomain: "futuretank-68c26.firebaseapp.com",
  projectId: "futuretank-68c26"
});
const db = firebase.firestore();

function addService(){
  const name=name.value.trim();
  const desc=desc.value.trim();
  const price=Number(price.value);
  const image=image.value.trim();
  const video=video.value.trim();
  if(!name||!desc||!price||!image){
    msg.innerText="âŒ ÙƒÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ù…Ø·Ù„ÙˆØ¨Ø©";
    return;
  }
  db.collection("services").add({
    name,desc,price,image,video,
    createdAt:new Date()
  }).then(()=>{
    msg.innerText="âœ… ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø®Ø¯Ù…Ø©";
    document.querySelectorAll("input,textarea").forEach(i=>i.value="");
    loadServices();
  }).catch(e=>{
    msg.innerText="âŒ Ø®Ø·Ø£: "+e.message;
  });
}

function loadServices(){
  const box=document.getElementById("services");
  box.innerHTML="â³ ØªØ­Ù…ÙŠÙ„...";
  db.collection("services").orderBy("createdAt","desc").onSnapshot(snap=>{
    box.innerHTML="";
    snap.forEach(doc=>{
      const s=doc.data();
      box.innerHTML+=`
        <div class="service">
          <strong>${s.name}</strong><br>
          ğŸ’° ${s.price} Ø¬Ù†ÙŠÙ‡<br>
          <img src="${s.image}">
          ${s.video ? `<video src="${s.video}" controls></video>` : ""}
          <button class="delete" onclick="delService('${doc.id}')">ğŸ—‘ Ø­Ø°Ù</button>
        </div>
      `;
    });
  });
}

function delService(id){
  if(!confirm("Ø­Ø°Ù Ø§Ù„Ø®Ø¯Ù…Ø©ØŸ")) return;
  db.collection("services").doc(id).delete();
}

loadServices();
</script>

</body>
  </html>
