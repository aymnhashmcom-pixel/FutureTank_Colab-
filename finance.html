<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>ğŸ’° Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø§Ù„ÙŠØ© â€” FutureTank</title>
<style>
body{
  font-family:Tahoma;
  background:#f4f9ff;
  margin:20px;
}
h2{color:#4a90e2}
table{
  width:100%;
  border-collapse:collapse;
  background:#fff;
  margin-top:20px;
}
th,td{
  border:1px solid #ddd;
  padding:8px;
  text-align:center;
}
th{background:#eef5ff}
.summary{
  background:#fff;
  padding:15px;
  border-radius:10px;
  margin-bottom:20px;
}
button{
  padding:8px 12px;
  margin:5px;
  cursor:pointer;
}
.income{color:green;font-weight:bold}
.expense{color:red;font-weight:bold}
</style>
</head>

<body>

<h2>ğŸ’° Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø§Ù„ÙŠØ© â€” FutureTank</h2>

<div class="summary">
  <p>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¯Ø®Ù„: <span id="totalIncome" class="income">0</span> Ø¬Ù†ÙŠÙ‡</p>
  <p>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª: <span id="totalExpense" class="expense">0</span> Ø¬Ù†ÙŠÙ‡</p>
  <p>ØµØ§ÙÙŠ Ø§Ù„Ø±Ø¨Ø­: <span id="netProfit">0</span> Ø¬Ù†ÙŠÙ‡</p>
</div>

<button onclick="window.print()">ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„ØªÙ‚Ø±ÙŠØ±</button>

<table>
<thead>
<tr>
  <th>Ø§Ù„Ù†ÙˆØ¹</th>
  <th>Ø§Ù„Ø¹Ù…ÙŠÙ„</th>
  <th>Ø§Ù„Ø®Ø¯Ù…Ø©</th>
  <th>Ø§Ù„Ù…Ø¨Ù„Øº</th>
  <th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
</tr>
</thead>
<tbody id="financeBody"></tbody>
</table>

<script>
const db = JSON.parse(localStorage.getItem("ft_db") || "{}");
const finance = db.finance || [];

let income = 0;
let expense = 0;

const body = document.getElementById("financeBody");

finance.forEach(f=>{
  const tr = document.createElement("tr");
  tr.innerHTML = `
<td>${f.type}</td>
<td>${f.client || "-"}</td>
<td>${f.service || "-"}</td>
<td class="${f.type==='Ø¯Ø®Ù„'?'income':'expense'}">${f.amount}</td>
<td>${f.date}</td>
  `;
  body.appendChild(tr);

  if(f.type==="Ø¯Ø®Ù„") income += f.amount;
  if(f.type==="Ù…ØµØ±ÙˆÙ") expense += f.amount;
});

document.getElementById("totalIncome").innerText = income;
document.getElementById("totalExpense").innerText = expense;
document.getElementById("netProfit").innerText = income - expense;
</script>

</body>
  </html>
