<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>ğŸ“‹ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù‚ÙˆØ¯</title>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<style>
body{font-family:Arial;direction:rtl;background:#f4f4f4;padding:20px}
.item{background:#fff;padding:15px;border-radius:8px;margin-bottom:10px}
.badge{padding:4px 8px;border-radius:6px;color:#fff;font-size:12px}
.new{background:#4CAF50}
.renew{background:#2196F3}
</style>
</head>

<body>

<h2>ğŸ“‹ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù‚ÙˆØ¯</h2>
<div id="list">â³ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¹Ù‚ÙˆØ¯...</div>

<script>
firebase.initializeApp({
  apiKey: "PUT_YOUR_KEY",
  authDomain: "futuretank-68c26.firebaseapp.com",
  projectId: "futuretank-68c26"
});

const db = firebase.firestore();

db.collection("contracts")
.orderBy("createdAt","desc")
.onSnapshot(snap=>{
  const box=document.getElementById("list");
  box.innerHTML="";

  if(snap.empty){
    box.innerText="Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¹Ù‚ÙˆØ¯ Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†";
    return;
  }

  snap.forEach(doc=>{
    const c=doc.data();
    box.innerHTML+=`
      <div class="item">
        <b>${c.clientName}</b>
        <span class="badge ${c.type}">
          ${c.type=="renew"?"ØªØ¬Ø¯ÙŠØ¯":"Ø¬Ø¯ÙŠØ¯"}
        </span><br>
        ğŸ“ ${c.clientPhone}<br>
        ğŸ“… ${c.createdAt?.toDate().toLocaleDateString() || ""}
      </div>
    `;
  });
});
</script>

</body>
</html>
