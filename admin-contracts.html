<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>ğŸ“‹ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù‚ÙˆØ¯</title>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<style>
body{font-family:Arial;direction:rtl;background:#f4f4f4;padding:20px}
.item{background:#fff;padding:15px;border-radius:8px;margin-bottom:10px}
.tag{padding:3px 8px;border-radius:5px;font-size:12px}
.new{background:#4CAF50;color:#fff}
.renew{background:#2196F3;color:#fff}
</style>
</head>

<body>

<h2>ğŸ“‹ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù‚ÙˆØ¯</h2>
<div id="contracts">â³ ØªØ­Ù…ÙŠÙ„...</div>

<script>
firebase.initializeApp({
  apiKey: "PUT_YOUR_KEY",
  authDomain: "futuretank-68c26.firebaseapp.com",
  projectId: "futuretank-68c26"
});

const db = firebase.firestore();

db.collection("contracts")
.orderBy("createdAt","desc")
.onSnapshot(snapshot=>{
  const box=document.getElementById("contracts");
  box.innerHTML="";

  if(snapshot.empty){
    box.innerHTML="Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¹Ù‚ÙˆØ¯ Ø¨Ø¹Ø¯";
    return;
  }

  snapshot.forEach(doc=>{
    const c=doc.data();
    box.innerHTML+=`
      <div class="item">
        <b>${c.clientName}</b>
        <span class="tag ${c.type}">${c.type=="renew"?"ØªØ¬Ø¯ÙŠØ¯":"Ø¬Ø¯ÙŠØ¯"}</span><br>
        ğŸ“ ${c.clientPhone}<br>
        ğŸ’° ${c.price||0} Ø¬Ù†ÙŠÙ‡<br>
        ğŸ“… ${c.startDate||"â€”"}
      </div>
    `;
  });
});
</script>

</body>
</html>
