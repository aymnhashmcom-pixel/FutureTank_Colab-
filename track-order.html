<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>ğŸ“¦ Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø·Ù„Ø¨</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f6f9;
      direction: rtl;
      padding: 20px;
    }

    h1 {
      text-align: center;
      margin-bottom: 20px;
    }

    .box {
      max-width: 500px;
      margin: auto;
      background: #fff;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }

    input, button {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      font-size: 16px;
    }

    button {
      background: #3498db;
      color: #fff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    .order {
      background: #f9f9f9;
      margin-top: 15px;
      padding: 10px;
      border-radius: 6px;
    }

    .status {
      font-weight: bold;
      margin-top: 5px;
    }
  </style>
</head>
<body>

<h1>ğŸ“¦ Ù…ØªØ§Ø¨Ø¹Ø© Ø·Ù„Ø¨Ùƒ</h1>

<div class="box">
  <input type="text" id="phone" placeholder="ğŸ“ Ø§ÙƒØªØ¨ Ø±Ù‚Ù… Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„">
  <button onclick="track()">Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø·Ù„Ø¨</button>

  <div id="results"></div>
</div>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
  import { getFirestore, collection, getDocs, query, where } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "PUT_YOUR_KEY",
    authDomain: "futuretank-68c26.firebaseapp.com",
    projectId: "futuretank-68c26",
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  const results = document.getElementById("results");

  window.track = async () => {
    results.innerHTML = "";
    const phone = document.getElementById("phone").value.trim();

    if (!phone) {
      alert("Ù…Ù† ÙØ¶Ù„Ùƒ Ø§ÙƒØªØ¨ Ø±Ù‚Ù… Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„");
      return;
    }

    const q = query(collection(db, "orders"), where("phone", "==", phone));
    const snap = await getDocs(q);

    if (snap.empty) {
      results.innerHTML = "<p>âŒ Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ø¨Ù‡Ø°Ø§ Ø§Ù„Ø±Ù‚Ù…</p>";
      return;
    }

    snap.forEach(d => {
      const o = d.data();
      results.innerHTML += `
        <div class="order">
          <p><strong>Ø§Ù„Ù…Ù†ØªØ¬:</strong> ${o.product}</p>
          <p><strong>Ø§Ù„Ø³Ø¹Ø±:</strong> ${o.price} Ø¬Ù†ÙŠÙ‡</p>
          <p class="status">ğŸ“Œ Ø§Ù„Ø­Ø§Ù„Ø©: ${o.status}</p>
        </div>
      `;
    });
  };
</script>

</body>
  </html>
