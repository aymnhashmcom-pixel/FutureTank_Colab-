<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Ù„ÙˆØ­Ø© Ø§Ù„Ø¹Ù‚ÙˆØ¯ - FutureTank</title>
<style>
body {
  font-family: Tahoma, Arial;
  background: #f4f6f8;
  padding: 20px;
}
h1 { color: #0b5394; }
section {
  background: #fff;
  padding: 15px;
  margin-bottom: 20px;
  border-radius: 8px;
}
input, select, button {
  padding: 8px;
  margin: 5px 0;
  width: 100%;
}
button {
  background: #0b5394;
  color: #fff;
  border: none;
  cursor: pointer;
}
button:hover { opacity: 0.9; }
table {
  width: 100%;
  border-collapse: collapse;
}
th, td {
  padding: 8px;
  border-bottom: 1px solid #ccc;
  text-align: center;
}
.delete {
  background: crimson;
}
</style>
</head>

<body>

<h1>ğŸ“‹ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ ÙˆØ§Ù„Ø¹Ù‚ÙˆØ¯ â€” FutureTank</h1>

<section>
<h3>â• Ø¥Ø¶Ø§ÙØ© Ø¹Ù‚Ø¯ Ø¬Ø¯ÙŠØ¯</h3>

<input id="clientName" placeholder="Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„">
<input id="clientPhone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ">
<input id="location" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù† / Ø§Ù„Ù…ÙˆÙ‚Ø¹">

<select id="serviceType">
  <option>ØªØ·Ù‡ÙŠØ± ÙˆØªØ¹Ù‚ÙŠÙ… Ø®Ø²Ø§Ù†Ø§Øª</option>
  <option>ØªÙˆØ±ÙŠØ¯ ÙˆØªØ±ÙƒÙŠØ¨ Ø®Ø²Ø§Ù†Ø§Øª</option>
  <option>ØµÙŠØ§Ù†Ø© ÙˆØ¥ØµÙ„Ø§Ø­ Ø®Ø²Ø§Ù†Ø§Øª</option>
</select>

<select id="contractType">
  <option value="Ø³Ù†ÙˆÙŠ">Ø³Ù†ÙˆÙŠ</option>
  <option value="Ø´Ù‡Ø±ÙŠ">Ø´Ù‡Ø±ÙŠ</option>
  <option value="Ù…ÙØªÙˆØ­">Ù…ÙØªÙˆØ­</option>
</select>

<select id="cycle">
  <option value="30">Ø²ÙŠØ§Ø±Ø© ÙƒÙ„ 30 ÙŠÙˆÙ…</option>
  <option value="60">Ø²ÙŠØ§Ø±Ø© ÙƒÙ„ 60 ÙŠÙˆÙ…</option>
  <option value="0">Ù…Ø®ØµØµ</option>
</select>

<label>ØªØ§Ø±ÙŠØ® Ø¢Ø®Ø± Ø²ÙŠØ§Ø±Ø©</label>
<input type="date" id="lastVisit">

<button onclick="addContract()">Ø­ÙØ¸ Ø§Ù„Ø¹Ù‚Ø¯</button>
</section>

<section>
<h3>ğŸ“¦ Ø§Ù„Ø¹Ù‚ÙˆØ¯ Ø§Ù„Ø­Ø§Ù„ÙŠØ©</h3>
<table>
<thead>
<tr>
<th>Ø§Ù„Ø¹Ù…ÙŠÙ„</th>
<th>Ø§Ù„Ø®Ø¯Ù…Ø©</th>
<th>Ø§Ù„Ø¯ÙˆØ±Ø©</th>
<th>Ø¢Ø®Ø± Ø²ÙŠØ§Ø±Ø©</th>
<th>Ø§Ù„Ø²ÙŠØ§Ø±Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©</th>
<th>Ø­Ø°Ù</th>
</tr>
</thead>
<tbody id="contractsTable"></tbody>
</table>
</section>

<script>
const KEY = "ft_contracts";

function loadContracts() {
  const data = JSON.parse(localStorage.getItem(KEY) || "[]");
  const tbody = document.getElementById("contractsTable");
  tbody.innerHTML = "";

  data.forEach((c, i) => {
    const tr = document.createElement("tr");
    tr.innerHTML = `
      <td>${c.name}<br>${c.phone}</td>
      <td>${c.service}</td>
      <td>${c.cycle} ÙŠÙˆÙ…</td>
      <td>${c.lastVisit}</td>
      <td>${c.nextVisit}</td>
      <td><button class="delete" onclick="remove(${i})">âœ–</button></td>
    `;
    tbody.appendChild(tr);
  });
}

function addContract() {
  const name = clientName.value;
  const phone = clientPhone.value;
  const service = serviceType.value;
  const cycle = parseInt(document.getElementById("cycle").value);
  const lastVisit = document.getElementById("lastVisit").value;

  if (!name || !lastVisit) {
    alert("Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©");
    return;
  }

  let nextVisit = "â€”";
  if (cycle > 0) {
    const d = new Date(lastVisit);
    d.setDate(d.getDate() + cycle);
    nextVisit = d.toISOString().split("T")[0];
  }

  const data = JSON.parse(localStorage.getItem(KEY) || "[]");
  data.push({
    name,
    phone,
    service,
    cycle,
    lastVisit,
    nextVisit
  });

  localStorage.setItem(KEY, JSON.stringify(data));
  loadContracts();
  document.querySelectorAll("input").forEach(i => i.value = "");
}

function remove(i) {
  const data = JSON.parse(localStorage.getItem(KEY));
  data.splice(i, 1);
  localStorage.setItem(KEY, JSON.stringify(data));
  loadContracts();
}

loadContracts();
</script>

</body>
    </html>
