<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>بوابة العملاء</title>
</head>
<body>

<h2>إضافة عقد جديد</h2>

<input id="name" placeholder="الاسم"><br><br>
<input id="phone" placeholder="رقم الهاتف"><br><br>
<input id="address" placeholder="العنوان"><br><br>
<input id="service" placeholder="الخدمة"><br><br>
<input id="duration" placeholder="مدة التعاقد"><br><br>
<input id="cost" placeholder="التكلفة"><br><br>
<input id="lastVisit" type="date"><br><br>
<input id="nextVisit" type="date"><br><br>

<button onclick="send()">إرسال</button>

<p id="msg"></p>

<script>
const API =
"https://script.google.com/macros/s/AKfycbwDwcVXY-qnVTxVxVknI1nhGvu2Gq430WGXtVUvYaHf2h_RjuKkqc74eTWpWXt1gmHV/exec";

function send(){
  const f = new FormData();
  f.append("action","add");
  f.append("name",name.value);
  f.append("phone",phone.value);
  f.append("address",address.value);
  f.append("service",service.value);
  f.append("duration",duration.value);
  f.append("cost",cost.value);
  f.append("lastVisit",lastVisit.value);
  f.append("nextVisit",nextVisit.value);

  fetch(API,{method:"POST",body:f})
  .then(r=>r.text())
  .then(t=>{
    msg.innerText = t=="OK" ? "✅ تم حفظ التعاقد" : "❌ حدث خطأ";
  })
  .catch(()=>msg.innerText="❌ حدث خطأ");
}
</script>

</body>
</html>
